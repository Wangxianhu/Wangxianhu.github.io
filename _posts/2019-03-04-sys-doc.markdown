---
layout:     post
title:      "系统首页接口文档"
subtitle:   " \"\""
date:       2019-03-04 10:20:00 UTC+8
author:     "王先虎"
header-img: "img/post-bg-2015.jpg"
tags:
    - 项目
---

<p align="center"><font size='7'><b><a name='ml'>系统首页接口文档</a></b></font></p>

## <a>目录</a>

1. [任务接口](#aa1)
2. [设备数接口](#aa2)
3. [报警数接口](#aa3)
4. [任务数接口](#aa4)
5. [周期性统计接口](#aa5)
6. [当前设备状态接口](#aa6)
7. [报警/维修数周接口](#aa7)
8. [报警/维修数月接口](#aa8)
9. [报警/维修数年接口](#aa9)
10. [数据指数接口](#aa10)
11. [气体情况接口](#aa11)
12. [设备维修接口](#aa12)
13. [用户信息接口](#aa13)

---

## **<a href='#ml' name='aa1' >1\. 任务接口</a>**

### 接口功能

查询最新的六条任务（有权限筛选）

### URL

[http://39.106.198.108:8140/cover-web/rWShow](http://39.106.198.108:8140/cover-web/rWShow)

### 支持格式

JSON

### HTTP请求方式

GET

### 请求参数

无

### 返回字段

均是中文字段

### 接口示例

地址：[http://39.106.198.108:8140/cover-web/rWShow](http://39.106.198.108:8140/cover-web/rWShow)

``` javascript
[{
	"状态": "进行中",
	"日期": "2019-03-01 11:35:46",
	"任务类型": "安装任务",
	"任务id": 55,
	"编号": "RK-AZ-YD-EM02-162"
}, {
	"状态": "已完成",
	"日期": "2019-03-04 13:11:07",
	"任务类型": "安装任务",
	"任务id": 54,
	"编号": "RK-AZ-YD-EM02-151"
}, {
	"状态": "已完成",
	"日期": "2019-02-28 13:30:28",
	"任务类型": "安装任务",
	"任务id": 53,
	"编号": "RK-AZ-YD-EM02-150"
}, {
	"状态": "已完成",
	"日期": "2019-02-26 16:08:28",
	"任务类型": "安装任务",
	"任务id": 52,
	"编号": "RK-AZ-YD-EM03-131"
}, {
	"状态": "已完成",
	"日期": "2019-02-21 14:18:49",
	"任务类型": "安装任务",
	"任务id": 51,
	"编号": "RK-AZ-YD-EM03-130"
}, {
	"状态": "进行中",
	"日期": "2019-02-19 17:13:33",
	"任务类型": "安装任务",
	"任务id": 50,
	"编号": "RK-AZ-YD-EM02-127"
}]
```

## **<a href='#ml' name='aa2'>2\. 设备数接口</a>**

### 接口功能

计算设备数量（有权限筛选，无优先级）

### URL

[http://39.106.198.108:8140/cover-web/countShow](http://39.106.198.108:8140/cover-web/countShow)

### 支持格式

json

### HTTP请求方式

get

### 请求参数

无

### 返回字段

都是中文字段

### 接口示例

地址：[http://39.106.198.108:8140/cover-web/countShow](http://39.106.198.108:8140/cover-web/countShow)

``` javascript
{"井盖数量":0,"蓝牙索数量":13,"终端数量":39}
```

## **<a href='#ml' name='aa3'>3\. 报警数接口</a>**

### 接口功能

查询当天报警数（有权限筛选）

### URL

[http://39.106.198.108:8140/cover-web/faultShow](http://39.106.198.108:8140/cover-web/faultShow)

### 支持格式

json

### HTTP请求方式

get

### 请求参数

无

### 返回字段

都是中文字段

### 接口示例

地址：[http://39.106.198.108:8140/cover-web/faultShow](http://39.106.198.108:8140/cover-web/faultShow)

``` javascript
{"井盖报警":0,"终端报警":308,"蓝牙锁报警":0}
```

## **<a href='#ml' name='aa4'>4\. 任务数接口</a>**

### 接口功能

查询各种任务的数量（有权限筛选）

### URL

[http://39.106.198.108:8140/cover-web/rWSShow](http://39.106.198.108:8140/cover-web/rWSShow)

### 支持格式

json

### HTTP请求方式

get

### 请求参数

无

### 返回字段

都是中文字段

### 接口示例

地址：[http://39.106.198.108:8140/cover-web/rWSShow](http://39.106.198.108:8140/cover-web/rWSShow)

``` javascript
{
	"未完成": {
		"报修任务": 0,
		"报装任务": 0,
		"调试任务": 0,
		"维保任务": 0,
		"安装任务": 1,
		"巡检任务": 0,
		"维修任务": 0
	},
	"进行中": {
		"报修任务": 0,
		"报装任务": 0,
		"调试任务": 0,
		"维保任务": 0,
		"安装任务": 14,
		"巡检任务": 0,
		"维修任务": 0
	},
	"已完成": {
		"报修任务": 0,
		"报装任务": 1,
		"调试任务": 2,
		"维保任务": 0,
		"安装任务": 18,
		"巡检任务": 1,
		"维修任务": 1
	}
}
```

## **<a href='#ml' name='aa5'>5\. 周期性统计接口</a>**

### 接口功能

统计当年已完成的任务（有权限筛选）

### URL

[http://39.106.198.108:8140/cover-web/zQXTJNShow](http://39.106.198.108:8140/cover-web/zQXTJNShow)

### 支持格式

json

### HTTP请求方式

get

### 请求参数

无

### 返回字段

都是中文字段

### 接口示例

地址：[http://39.106.198.108:8140/cover-web/zQXTJNShow](http://39.106.198.108:8140/cover-web/zQXTJNShow)

``` javascript
[{
	"调试任务": [2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
}, {
	"维修任务": [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
}, {
	"安装任务": [8, 9, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0]
}]
```

## **<a href='#ml' name='aa6'>6\. 当前设备状态接口</a>**

### 接口功能

查询正常设备数量和报警设备数量（有权限筛选）

### URL

[http://39.106.198.108:8140/cover-web/dQJGZTShow](http://39.106.198.108:8140/cover-web/dQJGZTShow)

### 支持格式

json

### HTTP请求方式

get

### 请求参数

无

### 返回字段

都是中文字段

### 接口示例

地址：[http://39.106.198.108:8140/cover-web/dQJGZTShow](http://39.106.198.108:8140/cover-web/dQJGZTShow)

``` javascript
{"报警设备":19,"正常设备":32}
```

## **<a href='#ml' name='aa7'>7\. 报警/维修数周接口</a>**

### 接口功能

统计当前周内每天的报警/维修次数（有权限筛选）

### URL

[http://39.106.198.108:8140/cover-web/bJAWXCSZShow1](http://39.106.198.108:8140/cover-web/bJAWXCSZShow1)

### 支持格式

json

### HTTP请求方式
 
get

### 请求参数

无

### 返回字段

均是中文字段 
 
### 接口示例

地址：[http://39.106.198.108:8140/cover-web/bJAWXCSZShow1](http://39.106.198.108:8140/cover-web/bJAWXCSZShow1)

``` javascript
{
	"报警次数": [281, 549, 117, 0, 0, 0, 0],
	"维修次数": [0, 0, 0, 0, 0, 0, 0]
}
```

## **<a href='#ml' name='aa8'>8\. 报警/维修数月接口</a>**

### 接口功能

统计当前月内每天的报警/维修数量（有权限筛选）

### URL

[http://39.106.198.108:8140/cover-web/bJAWXCSYShow1](http://39.106.198.108:8140/cover-web/bJAWXCSYShow1)

### 支持格式

json

### HTTP请求方式

get

### 请求参数

无

### 返回字段

均是中文字段

### 接口示例

地址：[http://39.106.198.108:8140/cover-web/bJAWXCSYShow1](http://39.106.198.108:8140/cover-web/bJAWXCSYShow1)

``` javascript
{
	"报警次数": [1853, 371, 281, 549, 121, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
	"维修次数": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
}
```

## **<a href='#ml' name='aa9'>9\. 报警/维修数年接口</a>**

### 接口功能

统计当年内每月的报警/维修次数（有权限筛选）

### URL

[http://39.106.198.108:8140/cover-web/bJAWXCSNShow1](http://39.106.198.108:8140/cover-web/bJAWXCSNShow1)

### 支持格式

json

### HTTP请求方式

get

### 请求参数

无

### 返回字段

均是中文字段

### 接口示例

地址：[http://39.106.198.108:8140/cover-web/bJAWXCSNShow1](http://39.106.198.108:8140/cover-web/bJAWXCSNShow1)

``` javascript
{
	"报警次数": [161227, 20686, 3175, 0, 0, 0, 0, 0, 0, 0, 0, 0],
	"维修次数": [3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
}
```

## **<a href='#ml' name='aa10'>10\. 数据指数接口</a>**

### 接口功能

查询设备挂载的终端产品收集的最新数据(仅限终端蓝牙锁无法检测数据)

### URL

[http://39.106.198.108:8140/cover-web/sJZSShow](http://39.106.198.108:8140/cover-web/sJZSShow)

### 支持格式

json

### HTTP请求方式

post

### 请求参数

|参数|必选|类型|说明|
|:-----  |:-------|:-----|-----|
|   id |yes    |字符串   |为数据库设备表id    |

### 返回字段

均是中文字段

### 接口示例

地址：[http://39.106.198.108:8140/cover-web/sJZSShow](http://39.106.198.108:8140/cover-web/sJZSShow)

``` javascript
{
	"温度": "023.37",
	"电量": "待开发。。。",
	"角度": 1,
	"液位": 1821,
	"湿度": 0
}
```

## **<a href='#ml' name='aa11'>11\. 气体情况接口</a>**

### 接口功能

查询设备挂载的终端产品收集的最新数据(仅限终端蓝牙锁无法检测数据)

### URL

[http://39.106.198.108:8140/cover-web/qTQKShow](http://39.106.198.108:8140/cover-web/qTQKShow)

### 支持格式

json

### HTTP请求方式

post

### 请求参数

|参数|必选|类型|说明|
|:-----  |:-------|:-----|-----|
|   id |yes    |字符串   |为数据库设备表id    |

### 返回字段

|返回字段|字段类型|说明|
|:-----   |:------|:-----|
|  O2  |  int  | 氧气含量   |
|  H2S  |  int  |  硫化氢含量  |
|  CO  |   int |   一氧化碳含量 |
|  CH4  |   int |   甲烷含量 |

### 接口示例

地址：[http://39.106.198.108:8140/cover-web/qTQKShow](http://39.106.198.108:8140/cover-web/qTQKShow)

``` javascript
{
	"O2": 0,
	"H2S": 0,
	"CO": 0,
	"CH4": 0
}
```

## **<a href='#ml' name='aa12'>12\.设备维修接口</a>**

### 接口功能

查询设备上挂载的产品的维修信息（顺便查询设备的所属公司，设备位置相关信息）

### URL

[http://39.106.198.108:8140/cover-web/sBWXShow](http://39.106.198.108:8140/cover-web/sBWXShow)

### 支持格式

json

### HTTP请求方式

post

### 请求参数

|参数|必选|类型|说明|
|:-----  |:-------|:-----|-----|
|  sblx  |  yes  | 字符串   |  设备类型0是井盖，1是终端，2是蓝牙锁  |
|   id |   yes |  字符串  | 为数据库设备表id   |

### 返回字段

均是中文字段

### 接口示例

地址：[http://39.106.198.108:8140/cover-web/sBWXShow](http://39.106.198.108:8140/cover-web/sBWXShow)

``` javascript
{
	"维修人员": "暂无维修信息",
	"设备位置": "中国北京市海淀区上地五街5号208室",
	"维修时间": "暂无维修信息",
	"维修原因": "暂无维修信息",
	"所属单位": "元迪科技（北京）有限公司"
}
```

## **<a href='#ml' name='aa13'>13\. 用户信息接口</a>**

### 接口功能

查询当前登陆人信息及相关部门公司信息

### URL

[http://39.106.198.108:8140/cover-web/ownShowIn](http://39.106.198.108:8140/cover-web/ownShowIn)

### 支持格式

json

### HTTP请求方式

get

### 请求参数

无

### 返回字段

|返回字段|字段类型|说明|
|:-----   |:------|:-----|
|company_name|字符串|所属公司名|
|name|字符串|员工姓名|
|dept_name|字符串|所属部门名|
|telephone|字符串|员工联系方式|
|dept_job|字符串|员工工作职责|

### 接口示例

地址：[http://39.106.198.108:8140/cover-web/ownShowIn](http://39.106.198.108:8140/cover-web/ownShowIn)

``` javascript
{
	"company_name": "甲骨文软件系统有限公司",
	"name": "杜明涛",
	"dept_name": "运维部门",
	"telephone": "18888888888",
	"dept_job": "维修，巡检，维保，维护"
}
```

注：

1. 权限筛选：是指根据不同权限查询用户名下或公司名下
2. 优先级：是指给设备上挂载的产品分级（有优先级就意味着忽略其他产品）